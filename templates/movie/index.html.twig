{% extends 'base.html.twig' %}

{% block title %}Movie index{% endblock %}

{% block body %}
    <div class="d-flex container gap-4 justify-content-between mb-3" style="max-width: 1600px" >
        <h2>Films Ã  l'affiche</h2>
        <a class="btn btn-primary" href="{{ path('app_movie_new') }}">Ajouter un film</a>
    </div>
    <div class="container-fluid d-flex gap-4 justify-content-center flex-wrap" style="max-width: 1600px" >
        {% for movie in movies %}
        <div class="card" style="width: 18rem;">
            <div class="card-body">
                <img class="card-img-top" src="{{ movie.poster }}" alt="Card image cap" width="200">
                <h4 class="card-title mt-2">{{ movie.title }}</h4>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">{{ movie.releasedAt ? movie.releasedAt|format_datetime('short', 'none', locale='fr') }}</li>
                    <li class="list-group-item" style="height: 4rem">
                        <span class="badge bg-danger">{{ movie.rated }}</span>
                        {% for genre in movie.genre %}
                            <span class="badge bg-secondary">{{ genre.name }}</span>
                        {% endfor %}
                    </li>
                    <li style="height:250px;" class="list-group-item ">{{ movie.plot }}</li>
                    <li class="list-group-item" style="height: 4rem">{{ movie.country }}</li>
                </ul>

                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <a class="btn btn-primary" href="{{ path('app_movie_show', {'id': movie.id}) }}">Afficher</a>
                        <a class="btn btn-primary" href="{{ path('app_movie_edit', {'id': movie.id}) }}">Modifier</a>
                    </li>
                </ul>
            </div>
        </div>

        {% else %}
            <div>
                no records found
            </div>
        {% endfor %}

{% endblock %}